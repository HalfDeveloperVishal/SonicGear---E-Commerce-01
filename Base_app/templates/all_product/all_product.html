<!-- templates/product_list.html -->
<h1>Products</h1>

<form method="get">
    <input type="text" name="q" placeholder="Search for products" value="{{ request.GET.q }}">
    <select name="category">
        <option value="">All Categories</option>
        <option value="featured" {% if request.GET.category == 'featured' %}selected{% endif %}>Featured</option>
        <option value="new_arrival" {% if request.GET.category == 'new_arrival' %}selected{% endif %}>New Arrival</option>
        <option value="earphone" {% if request.GET.category == 'earphone' %}selected{% endif %}>Earphone</option>
        <option value="headphone" {% if request.GET.category == 'headphone' %}selected{% endif %}>Headphone</option>
        <option value="tech_gadget" {% if request.GET.category == 'tech_gadget' %}selected{% endif %}>Tech Gadget</option>
    </select>
    <button type="submit">Search</button>
</form>

<ul>
    {% for product in products %}
        <li>
            <a href="{{ product.get_absolute_url }}">
                <img src="{{ product.image.url }}" alt="{{ product.product_name }}">
                <h3>{{ product.product_name }}</h3>
                <p>{{ product.description }}</p>
                <p>Price: ${{ product.price }}</p>
            </a>
        </li>
    {% empty %}
        <p>No products found.</p>
    {% endfor %}
</ul>
